# DYOR合约调用脚本

这是一个用于调用DYOR合约并转入OKB的自动化脚本。

## 合约信息
- **合约地址**: `0xc4cebdf3d4bbf14812dccb1ccb20ab26ea547f44`
- **方法ID**: `0x51b401a0`
- **网络**: OKC (Chain ID: 66)
- **代币**: OKB

## 安装依赖

```bash
npm install
```

## 使用方法

### 1. 单次调用 (转入1 OKB)
```bash
node dyor_contract_call.js
```

### 2. 批量调用
```bash
# 批量调用5次，每次转入1.0 OKB
node dyor_contract_call.js batch 1.0 5

# 批量调用10次，每次转入0.5 OKB
node dyor_contract_call.js batch 0.5 10
```

## 配置说明

### 私钥配置
脚本会自动从 `1。txt` 文件中读取私钥：
```
export PRIVATE_KEY="0x24175e4a8aafe388848c1dbffa08d896d128653c6fec0690d674cc32c2cb87de"
```

### 网络配置
- **RPC URL**: `https://exchainrpc.okex.org`
- **浏览器**: `https://www.oklink.com/okc`
- **Chain ID**: 66

## 功能特性

- ✅ 自动检查网络连接
- ✅ 余额验证
- ✅ Gas费用估算
- ✅ 交易状态监控
- ✅ 批量调用支持
- ✅ 错误处理和重试机制
- ✅ 详细的日志输出

## 安全提醒

⚠️ **重要安全提示**:
1. 请确保私钥安全，不要泄露给他人
2. 建议在测试网络上先进行测试
3. 批量调用时请注意Gas费用
4. 确保钱包有足够的OKB余额

## 错误处理

脚本包含完善的错误处理机制：
- 网络连接错误
- 余额不足
- Gas费用估算失败
- 交易被拒绝
- 合约调用失败

## 输出示例

```
🎯 DYOR合约调用脚本
==================================================
🚀 开始调用DYOR合约...
📝 钱包地址: 0x...
🌐 当前网络: okc Chain ID: 66
💰 当前OKB余额: 10.5
📊 交易参数:
  - 合约地址: 0xc4cebdf3d4bbf14812dccb1ccb20ab26ea547f44
  - 转入金额: 1.0 OKB
  - Gas价格: 5.0 Gwei
  - Gas限制: 300000
⛽ 预估Gas: 250000
📤 发送交易中...
📋 交易哈希: 0x...
⏳ 等待交易确认...
✅ 交易成功!
📋 交易详情:
  - 交易哈希: 0x...
  - 区块号: 12345678
  - Gas使用量: 250000
  - 状态: 成功
💰 交易后OKB余额: 9.5
```

## 故障排除

### 常见问题

1. **"余额不足"错误**
   - 确保钱包有足够的OKB余额
   - 检查Gas费用预留

2. **"网络错误"**
   - 检查网络连接
   - 确认RPC节点可用

3. **"交易被拒绝"**
   - 检查Gas价格设置
   - 确认合约地址正确

4. **"私钥错误"**
   - 检查私钥格式
   - 确认私钥文件存在

## 许可证

MIT License
